<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Info - The Final Shot</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Additional styles specific to the info page */
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        .info-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .info-content {
            max-width: 600px;
            margin: 0 auto;
            padding: 40px 20px;
            line-height: 1.6;
            font-size: 16px;
            text-align: left;
        }
        
        .info-content h1 {
            margin-bottom: 30px;
            font-size: 24px;
            font-weight: 500;
        }
        
        .info-content p {
            margin-bottom: 20px;
        }
        
        .contact-links {
            margin-top: 40px;
            margin-bottom: 20px;
        }
        
        .contact-links a {
            display: block;
            margin-bottom: 10px;
            color: black;
            text-decoration: none;
        }
        
        .contact-links a:hover {
            text-decoration: underline;
        }
        
        .copyright {
            margin-top: 40px;
            font-size: 14px;
            opacity: 0.7;
        }
    </style>
</head>
<body>
    <div id="container" class="container">
        <div class="info-container">
            <div class="info-content">
                <h1>Abdullah Ahmad</h1>
                <p style="text-align: justify;">Abdullah is a self-taught storyteller from India who uses frames, films, and fiction to tell stories that deliver a feeling. His north star is to introduce people to hitherto unexperienced horizons of beauty. To inspire them to be more, to do more. To be the versions of themselves that they are low-key happy about on the inside.</p>
                <p style="text-align: justify;"></p>His work has been viewed millions of times on various social media platforms, magazines, online publications, film festivals, and on the cover of a book. He constantly works towards creating something that delivers a feeling.</p>
                <div class="contact-links">
                    <a href="mailto:abdullahsaghirahmad@gmail.com" target="_blank">Email ↗</a>
                    <a href="https://instagram.com/the.final.shot" target="_blank">Instagram ↗</a>
                </div>
                <div class="copyright">
                    © <script>document.write(new Date().getFullYear())</script> The Final Shot. All rights reserved.
                </div>
            </div>
        </div>
        
        <div class="menu-bar">
            <div class="portfolio-name"><a href="/" style="text-decoration: none; color: inherit;">The Final Shot</a></div>
            
            <div class="menu-items">
                <div class="menu-item" data-category="featured">
                    <a href="/">Featured</a>
                </div>
                <div class="menu-item" data-category="bnw">
                    <a href="/bnw">BnW</a>
                </div>
                <div class="menu-item" data-category="about">
                    <a href="/about">About</a>
                </div>
                <div class="menu-item" data-category="random-musings" style="margin-left: 2em;">
                    <a href="/random-musings" class="random-musings-trigger">Random Musings</a>
                </div>
                <div class="menu-item active" data-category="info">
                    <a href="/info">Info</a>
                </div>
            </div>
            
            <div class="right-controls">
                <!-- Empty div to maintain the grid layout -->
            </div>
        </div>
    </div>
    
    <script>
        // Handle Random Musings navigation animation
        document.addEventListener('DOMContentLoaded', () => {
            console.log('🔧 Setting up Random Musings click handler...');
            const randomMusingsTrigger = document.querySelector('.random-musings-trigger');
            console.log('🔍 Found trigger element:', randomMusingsTrigger);
            
            if (randomMusingsTrigger) {
                randomMusingsTrigger.addEventListener('click', (e) => {
                    console.log('🎯 CLICK DETECTED! Starting preload + animation...');
                    e.preventDefault();

                    // 🚀 IMMEDIATELY start API fetch (parallel with animation)
                    console.log('🚀 Starting preload fetch during animation...');
                    fetch('/api/notion-musings?pageSize=6')
                        .then(response => {
                            console.log('📡 Preload fetch response received');
                            return response.json();
                        })
                        .then(data => {
                            // Store preloaded data for instant page load
                            sessionStorage.setItem('preloadedMusings', JSON.stringify({
                                data: data,
                                timestamp: Date.now(),
                                pageIndex: 0
                            }));
                            console.log('💾 Preloaded musings data cached successfully');
                        })
                        .catch(error => {
                            console.log('⚠️ Preload failed, will fallback to normal fetch:', error);
                            sessionStorage.removeItem('preloadedMusings');
                        });

                    // 🛡️ IMMEDIATELY disable Cloudinary handlers to prevent backup images
                    const container = document.getElementById('container');
                    if (container && window.handleCursorMove) {
                        container.removeEventListener('mousemove', window.handleCursorMove);
                        console.log('🚫 Disabled Cloudinary handlers for clean transition');
                    }
                    
                    // Start animation
                    const menuItems = document.querySelectorAll('.menu-item:not([data-category="random-musings"])');
                    const rightControls = document.querySelector('.right-controls');
                    const randomMusingsItem = document.querySelector('[data-category="random-musings"]');
                    
                    // Start preloading the page immediately
                    const preloadLink = document.createElement('link');
                    preloadLink.rel = 'prefetch';
                    preloadLink.href = '/random-musings';
                    document.head.appendChild(preloadLink);
                    
                    // Start loading API data
                    fetch('/api/notion-musings?pageSize=6').catch(() => {
                        // Preload API call, ignore errors
                    });
                    
                    // Sequential fade out: About → BnW → Featured (cascading effect)
                    const aboutItem = document.querySelector('[data-category="about"]');
                    const bnwItem = document.querySelector('[data-category="bnw"]');
                    const featuredItem = document.querySelector('[data-category="featured"]');
                    
                    // About fades first (0ms delay)
                    if (aboutItem) {
                        aboutItem.style.transition = 'opacity 1.5s ease, transform 1.5s ease';
                        aboutItem.style.opacity = '0';
                        aboutItem.style.transform = 'translateX(-10px)';
                    }
                    
                    // BnW fades second (200ms delay)
                    setTimeout(() => {
                        if (bnwItem) {
                            bnwItem.style.transition = 'opacity 1.5s ease, transform 1.5s ease';
                            bnwItem.style.opacity = '0';
                            bnwItem.style.transform = 'translateX(-10px)';
                        }
                    }, 200);
                    
                    // Featured fades last (400ms delay)
                    setTimeout(() => {
                        if (featuredItem) {
                            featuredItem.style.transition = 'opacity 1.5s ease, transform 1.5s ease';
                            featuredItem.style.opacity = '0';
                            featuredItem.style.transform = 'translateX(-10px)';
                        }
                    }, 400);
                    
                    // Fade out right controls
                    if (rightControls) {
                        rightControls.style.transition = 'opacity 1.5s ease';
                        rightControls.style.opacity = '0';
                    }
                    
                    // Move Random Musings to center (with fallback)
                    if (randomMusingsItem) {
                        randomMusingsItem.style.transition = 'transform 1.5s ease';
                        
                        // Try dynamic centering using viewport center
                        try {
                            const viewportWidth = window.innerWidth;
                            const itemRect = randomMusingsItem.getBoundingClientRect();
                            const itemCenter = itemRect.left + (itemRect.width / 2);
                            const viewportCenter = viewportWidth / 2;
                            const centerOffset = viewportCenter - itemCenter;
                            
                            randomMusingsItem.style.transform = `translateX(${centerOffset}px)`;
                            console.log(`🎯 Viewport centering: offset=${centerOffset}px, itemCenter=${itemCenter}, viewportCenter=${viewportCenter}`);
                        } catch (error) {
                            console.log('⚠️ Viewport centering failed, using fallback', error);
                            randomMusingsItem.style.transform = 'translateX(-50px)';
                        }
                    }
                    
                    // Navigate after 1.5s animation (pseudo loader)
                    setTimeout(() => {
                        window.location.href = '/random-musings';
                    }, 1500);
                });
            }
        });
    </script>
</body>
</html>
